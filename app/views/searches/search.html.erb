<h2>検索結果 (<%= @range %>)</h2>
<% if @results.present? %>
  <% if @range == "User" %>
    <div class="row">
      <% @results.each do |user| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <% if user.profile_image.attached? %>
              <%= link_to image_tag(user.profile_image.variant(resize_to_fill: [100, 100]), class: "rounded-circle mb-2"), user_path(user) %>
            <% else %>
              <%= link_to image_tag("no_image.jpg", class: "card-img-top", alt: "no image"), user_path(user) %>
            <% end %>
            <div class="card-body">
              <h5 class="card-title"><%= link_to user.name, user_path(user), class: "text-decoration-none text-dark" %></h5>
              <p class="text-muted small">投稿レシピ数:<%= user.recipes.count %></p>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="row">
      <% @results.each do |recipe| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <% if recipe.image.attached? %>
              <%= link_to image_tag(recipe.image.variant(resize_to_fill: [400, 250]), class: "card-img-top"), recipe_path(recipe) %>
            <% else %>
              <%= link_to image_tag("no_image.jpg", class: "card-img-top", alt: "no image"), recipe_path(recipe) %>
            <% end %>
            <div class="card-body">
              <h5 class="card-title">
                <%= link_to recipe.title, recipe_path(recipe), class: "text-decoration-none text-dark" %>
              </h5>
              <p class="text-muted small">投稿者:<%= recipe.user.name %></p>
            </div>
          </div>
        </div>
      <% end %>
    </div>    
  <% end %>
<% else %>
  <p>該当する<%= @range == "User" ? "ユーザー" : "投稿" %>はありませんでした。</p>
<% end %>