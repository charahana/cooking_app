<h2 class="mb-4">レシピ詳細</h2>
<div class="card mb-4 w-75">
  <div class="card-body">
    <h3><%= @recipe.title %></h3>
    <p><strong>ID:</strong><%= @recipe.id %></p>
    <p><strong>投稿者:</strong>
      <% if @recipe.user.present? %>
        <%= link_to @recipe.user.name, admins_user_path(@recipe.user) %>
      <% else %>
        <span class="text-muted">削除されたユーザー</span>
      <% end %>
    </p>
    <p><strong>投稿日:</strong><%= @recipe.created_at.strftime("%Y/%m/%d %H:%M") %></p>
    <% if @recipe.image.attached? %>
      <div class="mb-3">
        <%= image_tag @recipe.image, class: "img-fluid rounded" %>
      </div>
    <% end %>
    <p><strong>説明:</strong><%= simple_format(@recipe.body) %></p>
  </div>
</div>
<h3 class="mt-5">コメント一覧</h3>
<% if @recipe.comments.any? %>
  <ul class="list-group w-75 mb-4">
    <% @recipe.comments.each do |comment| %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong><%= comment.user&.name || "不明ユーザー" %>:</strong>
          <%= comment.body %>
        </div>
        <%= link_to "削除", admins_comment_path(comment), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-sm btn-danger" %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-muted">コメントはありません。</p>
<% end %>
<%= link_to "削除", admins_recipe_path(@recipe), method: :delete, data: { confirm: "本当に削除しますか？"}, class: "btn btn-danger mt-3" %>
<%= link_to "一覧に戻る", admins_recipes_path, class: "btn btn-secondary mt-3" %>